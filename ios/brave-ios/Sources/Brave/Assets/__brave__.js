(()=>{"use strict";if(!window.__brave__){function e(e,t){const r=function(){return"function toString() {\n    [native code]\n}"},o=function(){let r=`function ${void 0!==e.name?e.name:""}() {\n    [native code]\n}`;return t?"function"==typeof value?r:"[object Object]":r};return n.defineProperty(o,"name",{enumerable:!1,configurable:!0,writable:!1,value:"toString"}),n.defineProperty(r,"name",{enumerable:!1,configurable:!0,writable:!1,value:"toString"}),[o,r]}function t(e,t,r,o={}){var i={...o};e!==t&&e!==r||!i.toString||(i.toString=r);for(const[t,r]of n.entries(i)){let o=n.getOwnPropertyDescriptor(e,t);o&&!o.configurable||n.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:r}),o=n.getOwnPropertyDescriptor(e,t),o&&!o.writable||(fn[t]=r),"toString"!==t&&f.deepFreeze(e[t])}}function r(r){let i=Object.create(null,r.prototype?Object.getOwnPropertyDescriptors(r.prototype):void 0);delete i.prototype;let c=Object.assign(Object.create(null,void 0),Object.getOwnPropertyDescriptors(r),r.prototype?Object.getOwnPropertyDescriptors(r.prototype):void 0);return delete c.prototype,new Proxy(Object.create(null,c),{get(r,c,a){if("prototype"==c)return i;if("toString"==c){let i=n.getOwnPropertyDescriptor(r,c);if(i&&!i.configurable&&!i.writable)return Reflect.get(r,c);const[a,p]=e(r,!1),s={toString:a,call:o.call,apply:o.apply,bind:o.bind};return t(p,a,p,s),f.deepFreeze(p),t(a,a,p,s),f.deepFreeze(a),a}return r[c]}})}let n=r(Object),o=r(Function),i=r(Reflect),c=r(Array),a=window.webkit.messageHandlers;r=void 0;let p=[n,o,i,c,a],s=o.call,l=o.apply,u=o.bind;s.call=s,s.apply=l,l.call=s,l.apply=l,u.call=s,u.apply=l;let f=function(r,i=!0){if(n.isExtensible(r)){const[c,a]=e(r,!0),p=i?{toString:c}:{};if("function"==typeof r){const e={call:o.call,apply:o.apply,bind:o.bind};for(const[t,r]of n.entries(e))p[t]=r}t(a,c,a,p),f.deepFreeze(a),t(c,c,a,p),f.deepFreeze(c);for(const[e,o]of n.entries(p)){if("toString"==e){if(r[e]&&r[e]!==Object.prototype.toString&&r[e]!==Object.toString){r[e]!==c&&t(r[e]);continue}let o=n.getOwnPropertyDescriptor(r,e);if(o&&o.value&&o.value!==Object.prototype.toString&&o.value!==Object.toString){o.value!==c&&t(o.value);continue}if(void 0!==r.toString&&r.toString!==Object.prototype.toString&&r.toString!==Object.toString){r.toString!==c&&t(r.toString);continue}}let i=n.getOwnPropertyDescriptor(r,e);i&&!i.configurable||n.defineProperty(r,e,{enumerable:!1,configurable:"toString"==e,writable:"toString"==e,value:o}),i=n.getOwnPropertyDescriptor(r,e),i&&!i.writable||(r[e]=o,f.deepFreeze(r[e]))}}return r};f.deepFreeze=function(e){return e?(n.freeze(e),e.prototype&&n.freeze(e.prototype),e):e},f.extensiveFreeze=function(e,t=[]){const r=c.of("number","string","boolean","null","undefined"),o=function(e){return e.constructor&&t.includes(e.constructor.name)};if(r.includes(typeof e))return e;if(!e||e.constructor&&"Object"==e.constructor.name)return e;if(e==Object.prototype||e==Function.prototype)return e;if(e instanceof Object.getPrototypeOf(Uint8Array))return e;if(c.isArray(e)||e instanceof Set){for(const i of e)i&&!r.includes(typeof i)&&(i instanceof Object.getPrototypeOf(Uint8Array)||(f.extensiveFreeze(i,t),o(i)||n.freeze(f(i))));return o(e)?f(e):n.freeze(f(e))}if(e instanceof Map){for(const i of e.values())i&&!r.includes(typeof i)&&(i instanceof Object.getPrototypeOf(Uint8Array)||(f.extensiveFreeze(i,t),o(i)||n.freeze(f(i))));return o(e)?f(e):n.freeze(f(e))}if(!e.constructor||"Function"!=e.constructor.name&&"AsyncFunction"!=e.constructor.name&&"GeneratorFunction"!=e.constructor.name){let i=n.getPrototypeOf(e);i&&i!=Object.prototype&&i!=Function.prototype&&(f.extensiveFreeze(i,t),o(i)||n.freeze(f(i)));for(const i of n.values(e))i&&!r.includes(typeof i)&&(i instanceof Object.getPrototypeOf(Uint8Array)||(f.extensiveFreeze(i,t),o(i)||n.freeze(f(i))));for(const i of n.getOwnPropertyNames(e)){let a=n.getOwnPropertyDescriptor(e,i);if(a){let e=c.of(a.get,a.set,a.value);for(const i of e)!i||r.includes(typeof i)||i instanceof Object.getPrototypeOf(Uint8Array)||(f.extensiveFreeze(i,t),o(i)||n.freeze(f(i)));a.enumerable=!1,a.writable=!1,a.configurable=!1;continue}let p=e[i];p&&!r.includes(typeof p)&&(p instanceof Object.getPrototypeOf(Uint8Array)||(f.extensiveFreeze(p,t),o(p)||n.freeze(f(p))))}return o(e)?f(e):n.freeze(f(e))}return n.freeze(f(e))},f.postNativeMessage=function(e,t){if(!window.webkit||!window.webkit.messageHandlers)return Promise.reject(new TypeError("undefined is not an object (evaluating 'webkit.messageHandlers')"));let r=window.webkit;delete window.webkit.messageHandlers[e].postMessage,delete window.webkit.messageHandlers[e],delete window.webkit.messageHandlers,delete window.webkit;let n=a[e].postMessage(t);return window.webkit=r,n},f.dispatchEvent=function(e){return delete window.dispatchEvent,window.dispatchEvent(e)},f.addEventListener=function(e,t,r){return delete window.addEventListener,window.addEventListener(e,t,r)},f(f.deepFreeze),f(f.extensiveFreeze),f(f.postNativeMessage),f(f.dispatchEvent),f(f.addEventListener),f(f),f.deepFreeze(f.deepFreeze),f.deepFreeze(f.extensiveFreeze),f.deepFreeze(f.postNativeMessage),f.deepFreeze(f.dispatchEvent),f.deepFreeze(f.addEventListener),f.deepFreeze(f);for(const g of p)f(g),f.deepFreeze(g);let d=f((function(e){let t=f({});return new Proxy({},{apply:(e,t,r)=>i.apply(e,t,r),deleteProperty(e,r){r in e&&delete e[r],r in t&&delete e[r]},get(r,n,o){if(e&&e[n])return e[n];const c=i.getOwnPropertyDescriptor(r,n);return!c||c.configurable||c.writable?i.get(t,n,o):i.get(r,n,o)},set(r,n,o,c){if(e&&e[n])return!1;const a=i.getOwnPropertyDescriptor(r,n);return!(a&&!a.configurable&&!a.writable)&&(o&&(o=f(o)),i.set(t,n,o,c))},defineProperty(e,r,n){if(n&&!n.configurable){if(n.set&&!n.get)return!1;if(n.value&&(n.value=f(n.value)),!n.writable)return i.defineProperty(e,r,n)}return n.value&&(n.value=f(n.value)),i.defineProperty(t,r,n)},getOwnPropertyDescriptor(e,r){const n=i.getOwnPropertyDescriptor(e,r);return!n||n.configurable||n.writable?i.getOwnPropertyDescriptor(t,r):n},ownKeys(e){let t=[];return t=t.concat(i.ownKeys(e)),t}})}));n.defineProperty(window,"__brave__",{enumerable:!1,configurable:!1,writable:!1,value:f((function(){let e=f({}),t=f((function(t,r){return!e[t]&&(e[t]=!0,"function"==typeof r&&f(r)(f,n,o,c),!0)})),r=f((function(e){return"function"==typeof e&&(f(e)(f,n,o,c),!0)}));return d({includeOnce:f.deepFreeze(t),execute:f.deepFreeze(r)})}))()}),f.deepFreeze(UserMessageHandler),f.deepFreeze(webkit.messageHandlers)}})();